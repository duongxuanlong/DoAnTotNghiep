\chapter{Phương pháp gom nhóm phân cấp}
\label{Chapter2}

\section{Hướng tiếp cận agglomerative}
\hspace{10mm}Giới thiệu sơ theo hướng tiếp cận agglomerative.\\
\hspace*{10mm}Ví dụ về agglomerative.\\
\hspace*{10mm}Các đoạn sau liệt kê các paper theo hướng tiếp cận agglomerative.\\

%Trong phần này nói cụ thể về hướng tiếp cận agglomerative và các công trình liên quan

\section{Hướng tiếp cận divisive}
\hspace{10mm}Giới thiệu so theo hướng tiếp cận divisive.\\

\section{Đồng gom nhóm phân cấp}
\subsection{Giới thiệu}
\noindent
%Nhược điểm của gom nhóm truyền thống - trích dẫn ý người nói, không dùng em, dùng tôi, câu đầu luôn nói về chủ đề, những câu khác phải bổ sung ý nghĩa.
Như mọi người đã biết, gom nhóm là phương pháp để chúng ta gom những văn bản gần giống nhau thành một nhóm riêng biệt. %Bỏ câu đầu tiên
Tuy nhiên, %Bỏ luôn
các phương pháp truyền thống gặp hạn chế để tìm được kết quả tối ưu khi mà chiều của dữ liệu tăng cao. 
%Giải thích số chiều hạn chế cho vào đoạn khác
Để giải quyết vấn đề này, nhiều phương pháp tính khoảng cách được đề xuất như là độ tương đồng cosine(sử dụng khi số chiều của dữ liệu cao) và lựa chọn đặc trưng(dùng để giảm số chiều của dữ liệu). 
Tuy nhiên, những cách này không thực sự giải quyết được triệt để vấn đề. 
Vì nếu cố gắng làm giảm số chiều của dữ liệu, ta gặp phải một vấn đề khác thường hay gọi là lời nguyền về số chiều của dữ liệu. %giải thích 

%Đoạn về đồng gom nhóm
Chính vì vậy, một phương pháp mới được đề xuất là đồng gom nhóm để giúp chúng ta giải quyết vấn đề trên.\\
\hspace*{10mm}Đồng gom nhóm là phương pháp gom nhóm cả hai chiều của dữ liệu(bao gồm gom nhóm văn bản và gom nhóm đặc trưng). Đây là phương pháp mạnh mẽ vì khai thác được độ tương đồng của các phân nhóm trong chiều này của dữ liệu để gom nhóm trong chiều khác. Điều này có nghĩa các phân nhóm của văn bản được đánh giá bằng các phân nhóm của đặc trưng và ngược lại. Bằng cách này, các phân nhóm của văn bản có thể được tiến hành dựa trên các phân nhóm đặc trưng để giúp làm giảm số chiều của dữ liệu. Như vậy, đồng gom nhóm là phương pháp hữu hiệu để giúp ta gom nhóm văn bản đồng thời làm giảm số chiều của dữ liệu.\\

\hspace*{10mm}Khi ta kết hợp đồng gom nhóm với gom nhóm phân cấp thì ta có được đồng gom nhóm phân cấp. Phương pháp này không những cho ta có được những điểm mạnh của đồng gom nhóm mà đồng thời còn có được điểm  mạnh của gom nhóm phân cấp. Qua đó, quá trình gom nhóm có thể cho ta thấy được dendrogram, nơi lưu trữ quá trình hợp nhất hoặc phân tách giữa các phân nhóm. Việc tạo thành cây phân cấp giúp cho chúng ta thấy được vị trí liên quan giữa các phân nhóm. Qua đó, ta có thể hiểu được độ tương đồng liên quan giữa các phân nhóm. Từ đó, chúng ta có thể có hình dung được bức tranh tổng thể cũng như là cấu trức của dữ liệu.\\

%Công dụng của việc kết hợp gom nhóm phân cấp và đồng gom nhóm
Ngoài ra, đồng gom nhóm phân cấp còn tạo ra công cụ ý niệm hữu ích để giúp cho ta thấy được mối quan hệ giữa các phân nhóm trong văn bản. 
Phương pháp này cung cấp thể hiện hữu hình của kết quả phân nhóm đồng thời giải thích được quá trình phân nhóm. 
Xa hơn nữa, ta có thể sử dụng kết quả phân nhóm để duyệt và tìm kiếm văn bản đồng thời tìm kiếm đặc trưng chung hoặc riêng. 
Vì vậy, khi kết hợp hai phương pháp lại với nhau, ta sẽ gom nhóm phân cấp văn bản dựa vào gom nhóm phân cấp đặc trưng và ngược lại. 
Sự kết hợp này giúp cho chúng ta có nhiều kết quả và ý nghĩa hơn những cách thông thường.

Việc tương tác qua lại giữa hai chiều dữ liệu là ý chính trong phương pháp gom nhóm phân cấp. Khi ta xây dựng gom nhóm phân cấp cho văn bản, phương pháp này cũng đồng thời đang nghiên cứu vấn đề của chiều còn lại(đặc trưng). Vì vậy, khi ta xây dựng gom nhóm phân cấp cho đặc trưng, ta mượn lại thông tin đã có từ quá trình gom nhóm phân cấp văn bản để xây dựng. Quá trình này lặp đi lặp lại cho đến khi kết thúc. Như vậy, nhờ có sự tương tác qua lại giữa hai quá trình gom nhóm phân cấp văn bản và gom nhóm phân cấp đặc trưng mà ta mới có được nhiều ích lợi trong quá trình gom nhóm.\\

\hspace*{10mm}Với những ích lợi như vậy, đồng gom nhóm phân cấp cho ta thấy được đây là một phương pháp hiệu quả để gom nhóm văn bản. Phương pháp này không những giúp chúng ta giảm được số chiều của dữ liệu mà kết quả của nó có thể giúp ích cho việc tìm kiếm dữ liệu sau này. Vì vậy, em quyết định sử dụng đồng gom nhóm phân cấp để gom nhóm văn bản. Qua đó, em sử dụng thể hiện văn bản là tần số của đặc trưng, tức là số lần từ đó xuất hiện trong văn bản. Kết quả của phương pháp này sẽ là hai gom nhóm phân cấp, một cho văn bản và một cho đặc trưng. \\

\subsection{Độ tương đồng Goodman-Kruskal $\tau$}
\noindent
\hspace{10mm}Mỗi phương pháp gom nhóm đều sử dụng một cách đo độ tương đồng khác nhau. Đối với đồng gom nhóm phân cấp, độ tương đồng Goodman-Kruskal, được ký hiệu là $\tau$, được sử dụng để đo độ tương đồng giữa các văn bản. $\tau$ được chọn vì trong nhiều đánh giá về đồng gom nhóm phân cấp thì đây là lựa chọn tốt.\\

\hspace*{10mm}$\tau$ được đề xuất như là phương pháp đo lường kết hợp giữa hai biến rời rạc. Phương pháp này đo giảm tỷ lệ trong lỗi dự đoán của biến phụ thuộc được cho bởi thông tin của biến độc lập. $\tau$ bị giới hạn bởi 0(không thể kết hợp) và 1(kết hợp hoàn hảo).
Chúng ta sử dụng contingency table để lưu trữ phân phối của giá trị cho hai biến. Khi đó, phương pháp này dự đoán tần số thực tế trong bảng cho mỗi giá trị của biến phụ thuộc.\\

\hspace*{10mm}Nguyên tắc cơ bản để $\tau$ xác định giảm tỷ lệ trong lỗi bằng hai luật. Luật thứ nhất là quyết định số lượng lỗi của dự đoán mà không sử dụng thông tin biến độc lập. Luật thứ nhất cho ra kết quả $E_1$, số lượng lỗi của dự đoán cho mỗi giá trị của biến phụ thuộc(dành cho hàng). Luật thứ hai cho thông tin về biến độc lập(dành cho cột) thường dùng để dự đoán tần só của mỗi giá trị của biến phụ thuộc. Luật thứ hai cho ra kết quả về lỗi dự đoán, $E_2$.\\

\hspace*{10mm}Ví dụ, cho hai biến rời rạc $Job$ và $Salary$ trong đó $Salary$ là biến phụ thuộc, còn $Job$ là biến độc lập. Bảng \hyperref[bang_2_1]{\textcolor{blue}{Bảng 2.1}} cho dữ liệu như sau:
\noindent
\begin{table}[ht]
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
& $Job=Clerk$ & $Job=Teacher$ & $Job=Manager$ & $Job=Journalist$ & $Total$ \\
\hline
\hline
$Salary=Low$ & d$_{11}$ & d$_{12}$ & d$_{13}$ & d$_{14}$ & d$_{r1}$ \\
\hline
$Salary=Medium$ & d$_{21}$ & d$_{22}$ & d$_{23}$ & d$_{24}$ & d$_{r2}$ \\
\hline
$Salary=High$ & d$_{31}$ & d$_{12}$ & d$_{13}$ & d$_{14}$ & d$_{r1}$ \\
\hline
& c$_{1}$ & c$_{2}$ & c$_{3}$ & c$_{4}$ & $T$\\
\hline
\end{tabular}
\caption[Bảng dữ liệu giữa $Salary$ và $Job$ ]{Bảng dữ liệu thống kê giữa $Salary$ và $Job$}
\label{bang_2_1}
\end{center}
\end{table}

\hspace{10mm}Với: d$_{ri}$ là tổng số dữ liệu của dòng thứ i, c$_{j}$ là tổng số dữ liệu của cột thứ j và T là tổng số dữ liệu của bảng.

Công thức tính $\tau$:
\begin{equation}
\tau = \frac{E_1 - E_2}{E_1}
\end{equation}
Công thức dành cho luật thứ nhất:
\begin{equation}
E_1 = \sum_i(\frac{n - R_i}{n} \times Ri)
\end{equation}

Công thức tính luật thứ hai:

\begin{equation}
\begin{matrix}
E_{2j} = \sum_j(\frac{C_j - O_{ij}}{C_j} \times O_{ij}) \\
E_2 = \sum_jE_{2j}
\end{matrix}
\end{equation}

\hspace{10mm}Dựa vào công thức tính $\tau$, ta có thể thấy nó thỏa mãn tính chất để thể hiện mối liên quan giữa hai biến. Công thức tính $\tau$ thể hiện phép toán hoán vị giữa các trị dòng và cột. Ngoài ra, công thức còn cho ta thấy mối liên hệ về việc giảm lỗi trong dự đoán của biến phụ thuộc dựa vào biến không phụ thuộc. Công thức $\tau$ để đo tính hợp lệ cho giải pháp đồng phân nhóm từ hai phân nhóm, một cho giá trị của biến phụ thuộc, còn lại cho biến không phụ thuộc. Ta có thể cải thiện thêm $\tau$ bằng cách cải tiến contingency table từ \hyperref[bang_2_1]{\textcolor{blue}{Bảng 2.1}}

\begin{table}[ht]
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
& $CC_1$ & $CC_2$ & \\
\hline
$RC_1$ & t$_{11}$ & t$_{12}$ & T$_{RC_1}$ \\
\hline
$RC_2$ & t$_{21}$ & t$_{22}$ & T$_{RC_2}$ \\
\hline
& T$_{CC_1}$ & T$_{CC_2}$ & T \\
\hline
\end{tabular}
\end{center}
\end{table}

Với $RC_i$ biểu diễn phân nhóm thứ $i$ của dòng, còn $CC_j$ biểu diễn phân nhóm thứ $j$ trên cột. Trong ví dụ trên, ta giả thiết rằng $RC_1$ đã gọp lại những dòng từ bảng gốc của $Salary$ thành {Low, Medium}. Trong khi đó, $RC_2$ còn lại vẫn là $Salary=High$. Tương tự cho cột, $CC_1$ đã gộp những cột của $Job$ thành {Clerk, Teacher}, còn $CC_2$ chứa cột {Manager, Journalist}. $t_{ij}$ biểu diễn giá trị chứa trong ô giao nhau của dòng thứ $i$ và cột thứ $j$. 
\begin{equation}
t_{ij} = \sum_{Salary=x_value \in RC_i} (\sum_{Job=y_value \in CC_j} d_{xy})
\end{equation}

\hspace{10mm}Với $x$ có miền từ tất cả các giá trị của biến $Salary$ và $y$ là miến giá trị của tất cả biến $Job$. Trong cách thể hiện mới này, ta có thể cải thiện cách đánh giá theo từng bước một của thuật toán theo sự kết hợp của hai phân nhóm(dòng và cột). 

\subsection{Thuật toán}


%\section{Dendogram}
%\hspace{10mm}Giới thiệu về dendogram.\\

%\section{Các cách thức liên kết}
%\hspace{10mm}Giới thiệu về single linkage\\
%\hspace*{10mm}Ví dụ về single linkage\\
%\hspace*{10mm}Giới thiệu về complete linkage\\
%\hspace*{10mm}Ví dụ về complete linkage\\
%\hspace*{10mm}Giới thiệu về average linkage\\
%\hspace*{10mm}Ví dụ về average linkage\\
%\hspace*{10mm}Đặc điểm chung của các cách thức liên kết\\
%\hspace*{10mm}Các khiếm khuyết trong single linkage\\
%\hspace*{10mm}Các khiếm khuyết trong complete linkage\\
%\hspace*{10mm}Các khiếm khuyết trong average linkage\\




